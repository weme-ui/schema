{
  "$schema": "https://json-schema.org/draft-07/schema#",
  "$id": "https://weme-ui.github.io/schema/registry.schema.json",
  "title": "Weme UI Registry JSON Schema Definitions",
  "description": "Weme UI registry of components, composables, themes, blocks, etc.",
  "meta:status": "stabilizing",
  "type": "object",
  "properties": {
    "$schema": {
      "title": "Schema URL",
      "description": "The schema URL.",
      "type": "string",
      "format": "uri",
      "default": "https://weme-ui.github.io/schema/registry.schema.json"
    },
    "name": {
      "title": "Registry name",
      "description": "The name of the registry.",
      "type": "string",
      "pattern": "^[^A-Z]*\\/[^A-Z]*$",
      "examples": ["weme-ui/std", "weme-ui/plus"]
    },
    "description": {
      "title": "Registry description",
      "description": "The description of the registry.",
      "type": "string"
    },
    "version": {
      "title": "Registry version",
      "description": "The version of the registry. Empty to use the version from `package.json`.",
      "type": "string",
      "format": "semver",
      "examples": ["1.0.0"]
    },
    "prefix": {
      "title": "Registry prefix",
      "description": "Default prefix for added components of the registry.",
      "type": "string",
      "examples": ["ui"]
    },
    "items": {
      "title": "Registry items",
      "description": "The items of the registry.",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "title": "Item name",
            "description": "The name of the item. This is used to identify the item in the registry. It should be unique for your registry.",
            "type": "string",
            "examples": ["button", "icon"]
          },
          "type": {
            "title": "Item type",
            "description": "The type of the item.",
            "type": "string",
            "enum": ["component", "layout", "theme", "block", "page", "init"],
            "examples": ["component"]
          },
          "title": {
            "title": "Item title",
            "description": "The human-readable title for your registry item. Keep it short and descriptive.",
            "type": "string",
            "examples": ["Button", "Icon"]
          },
          "description": {
            "title": "Item description",
            "description": "A short description of the item.",
            "type": "string",
            "examples": ["A button component.", "An icon component."]
          },
          "dependencies": {
            "title": "NPM dependencies",
            "description": "An array of NPM dependencies required by the item.",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "devDependencies": {
            "title": "NPM dev dependencies",
            "description": "An array of NPM dev dependencies required by the item.",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "registryDependencies": {
            "title": "Registry dependencies",
            "description": "An array of registry dependencies required by the item. This is an array of registry item names.",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "files": {
            "title": "Item files",
            "description": "The main payload of files required by the item.",
            "type": "array",
            "items": {
              "title": "Item file",
              "description": "A file required by the item.",
              "type": "object",
              "properties": {
                "path": {
                  "title": "File path",
                  "description": "The path to the file. This is relative to the item's directory.",
                  "type": "string"
                },
                "content": {
                  "title": "File content",
                  "description": "The content of the file. This is a stringified version of the file's content.",
                  "type": "string"
                },
                "type": {
                  "title": "File type",
                  "description": "The type of the file. This is used to group files in the registry.",
                  "type": "string",
                  "enum": ["component", "composable", "plugin", "util", "type", "style", "file"]
                },
                "target": {
                  "title": "File target",
                  "description": "The target path to the file. This is relative to the user's project directory.",
                  "type": "string"
                },
                "hash": {
                  "title": "File hash",
                  "description": "The hash of the file. This is used to check if the file has changed.",
                  "type": "string"
                }
              },
              "if": {
                "properties": {
                  "type": {
                    "enum": ["file"]
                  }
                }
              },
              "then": {
                "required": ["path", "type", "target"]
              },
              "else": {
                "required": ["path", "type"]
              }
            }
          },
          "cssVars": {
            "title": "CSS variables",
            "description": "The CSS variables required by the item.",
            "type": "object",
            "additionalProperties": {
              "title": "CSS variable",
              "type": "object",
              "additionalProperties": {
                "title": "CSS variable value",
                "type": "string"
              }
            }
          }
        },
        "required": ["name", "type", "files"]
      }
    }
  },
  "required": ["name", "items"],
  "uniqueItems": true
}
